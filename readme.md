# Music Recommendation System

This project is a Music Recommendation System built with Flask and Python. It recommends songs based on content similarity using TF-IDF and cosine similarity. The frontend is a simple web interface allowing users to select a song and get recommendations.

## Features

*   Song recommendations based on selected song.
*   Searchable dropdown for song selection.
*   Light and Dark mode theme toggle.
*   Clear and responsive user interface.
*   Recommendations displayed as interactive cards.

## Project Structure

```
.
├── .gitignore
├── requirements.txt
├── src/
│   ├── app.py                   # Main Flask application
│   ├── cosine_sim.pkl           # Precomputed cosine similarity matrix
│   ├── df_cleaned.pkl           # Cleaned dataset
│   ├── preprocess.py            # Script for data preprocessing (assumed)
│   ├── recommend.log            # Log file for recommendation events
│   ├── recommend.py             # Core recommendation logic
│   ├── spotify_millsongdata.csv # Original dataset
│   ├── tfidf_matrix.pkl         # Precomputed TF-IDF matrix
│   ├── static/
│   │   ├── script.js            # Frontend JavaScript
│   │   └── style.css            # Frontend CSS
│   └── templates/
│       └── index.html           # Main HTML page
└── training/
    └── music_recommendation.ipynb # Jupyter notebook for model training and data preprocessing
```

## Setup and Installation

### Prerequisites

*   Python 3.x
*   pip (Python package installer)

### Installation

1.  **Clone the repository (if applicable):**
    ```bash
    git clone https://github.com/Aafimalek/music-reco
    cd music-reco
    ```

2.  **Create a virtual environment (recommended):**
    ```bash
    python -m venv venv
    ```
    Activate the virtual environment:
    *   Windows: `venv\Scripts\activate`
    *   macOS/Linux: `source venv/bin/activate`

3.  **Install dependencies:**
    Navigate to the project root directory (where `requirements.txt` is located) and run:
    ```bash
    pip install -r requirements.txt
    ```

4.  **Data Files:**
    This project relies on precomputed data files (`df_cleaned.pkl`, `cosine_sim.pkl`, `tfidf_matrix.pkl`) located in the `src/` directory.
    *   These files are generated by the [training/music_recommendation.ipynb](training/music_recommendation.ipynb) notebook.
    *   Ensure these files are present in the `src/` directory. If not, you may need to run the notebook to generate them. The original dataset [src/spotify_millsongdata.csv](src/spotify_millsongdata.csv) is required for this.
    *   The `.gitignore` file is configured to ignore these `.pkl` files, so they might not be included if you cloned a repository.

## Running the Application

1.  **Navigate to the `src` directory:**
    ```bash
    cd src
    ```

2.  **Run the Flask application:**
    ```bash
    python app.py
    ```

3.  **Open your browser:**
    The application will typically be available at `http://127.0.0.1:5000/`.

## How It Works

The recommendation system works as follows:
1.  **Data Preprocessing:** Song data (artist, title, lyrics - assumed from typical music recommendation context) is cleaned and processed. This step is detailed in [training/music_recommendation.ipynb](training/music_recommendation.ipynb).
2.  **TF-IDF Vectorization:** Song features (likely text-based like lyrics or combined metadata) are converted into numerical vectors using Term Frequency-Inverse Document Frequency (TF-IDF). The resulting matrix is saved in `tfidf_matrix.pkl`.
3.  **Cosine Similarity:** The cosine similarity is calculated between all pairs of song TF-IDF vectors to find songs with similar content. This similarity matrix is saved in `cosine_sim.pkl`.
4.  **Recommendation:** When a user selects a song:
    *   The system finds the selected song in the preprocessed dataset ([`df_cleaned.pkl`](src/df_cleaned.pkl)).
    *   It uses the precomputed [`cosine_sim.pkl`](src/cosine_sim.pkl) to find the most similar songs.
    *   The top N recommendations are returned to the user.

## Key Files

*   **[`src/app.py`](src/app.py):** The main Flask application file that handles routing and serves the web pages.
*   **[`src/recommend.py`](src/recommend.py):** Contains the core logic for loading data and generating song recommendations.
*   **[`src/templates/index.html`](src/templates/index.html):** The HTML template for the user interface.
*   **[`src/static/script.js`](src/static/script.js):** JavaScript for handling user interactions, API calls, and dynamic content updates on the frontend.
*   **[`src/static/style.css`](src/static/style.css):** CSS for styling the web application.
*   **[`training/music_recommendation.ipynb`](training/music_recommendation.ipynb):** Jupyter Notebook detailing the data preprocessing, model training (TF-IDF, cosine similarity), and generation of `.pkl` files.
*   **[`requirements.txt`](requirements.txt):** Lists all Python dependencies for the project.

## Dependencies

The main dependencies are listed in [requirements.txt](requirements.txt) and include:
*   Flask
*   pandas
*   scikit-learn
*   nltk
*   joblib
